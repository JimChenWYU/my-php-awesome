# 基础题

---

#### 1. 哪个属于B类的私有IP地址是？  
> 10.16. 220.100  
> 172.16.220.100  
> 172.32.220.100  
> 192.168.220.100  

答案：172.16.220.100  
解释： 
所谓的私有地址就是在互联网上不使用，而被用在局域网络中的地址；
![图片解释](http://uploadfiles.nowcoder.com/images/20150107/444334_1420598522230_0_12990755692uhR.gif.jpg)  
在A类地址中，10.0.0.0到10.255.255.255是私有地址。  
在B类地址中，172.16.0.0到172.31.255.255是私有地址。  
在C类地址中，192.168.0.0到192.168.255.255是私有地址。  

---

#### 2. 若路由器R因为拥塞丢弃IP分组，则此时R可向发出该IP分组的源主机 发送 的ICMP报文件的类型是() 

> 路由重定向  
> 目的不可达  
> 源抑制  
> 超时  

答案：源抑制  
解释：  
ICMP差错报告报文共有5种

+ 终点不可达：终点不可达分为:网络不可达，主机不可达，协议不可达，端口不可达，需要分片但DF比特已置为1，以及源路由失败等六种情况，其代码字段分别置为0至5。当出现以上六种情况时就向源站发送终点不可达报文。
+ 端口不可达：UDP的规则之一是：如果收到UDP数据报而且目的端口与某个正在使用的进程不相符，那么UDP返回一个ICMP不可达报文。
+ 源站抑制：当路由器或主机由于拥塞而丢弃数据报时，就向源站发送源站抑制报文，使源站知道应当将数据报的发送速率放慢。
+ 时间超过：当路由器收到生存时间为零的数据报时，除丢弃该数据报外，还要向源站发送时间超过报文。当目的站在预先规定的时间内不能收到一个数据报的全部数据报片时，就将已收到的数据报片都丢弃，并向源站发送时间超过报文。
+ 参数问题：当路由器或目的主机收到的数据报的首部中的字段的值不正确时，就丢弃该数据报，并向源站发送参数问题报文。
+ 改变路由（重定向）路由器将改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器。
 
以下几种情况都不会导致产生ICMP差错报文

+ ICMP差错报文（但是，ICMP查询报文可能会产生ICMP差错报文）
+ 目的地址是广播地址或多播地址的IP数据报
+ 作为链路层广播的数据报
+ 不是IP分片的第一片
+ 源地址不是单个主机的数据报。即源地址不能为零地址、环回地址、广播地址或多播地址。
 
---

#### 3. 下面有关tcp连接握手，说法错误的是？

> connect() api调用发生在三次握手之后  
> accept() api调用发生在三次握手之后  
> “三次握手”的目的是“为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误”  
> 因为tcp是全双工模式，接收到FIN时意味将没有数据再发来，但是还是可以继续发送数据，所以断开连接时必须是四次握手

答案：connect() api调用发生在三次握手之后    
解释：socket API 和 TCP 协议中各个状态可以通过下图来看：  
![socket API 和 TCP 协议中各个状态图](http://uploadfiles.nowcoder.com/images/20150113/444334_1421147458622_2625317107797233614.jpg)

connect发送了一个SYN，收到Server的SYN+ACK后，代表连接完成。发送最后一个ACK是protocol stack,tcp_out完成的。它是在三次握手过程中调用的。

因为当Server端收到Client端的SYN连接请求报文后，可以直接发送SYN+ACK报文。其中ACK报文是用来应答的，SYN报文是用来同步的。但是关闭连接时，当Server端收到FIN报文时，很可能并不会立即关闭SOCKET，所以只能先回复一个ACK报文，告诉Client端，"你发的FIN报文我收到了"。只有等到我Server端所有的报文都发送完了，我才能发送FIN报文，因此不能一起发送。故需要四步握手。

---

#### 4. 有关会话跟踪技术描述正确的是  
> A. Cookie是Web服务器发送给客户端的一小段信息，客户端请求时，可以读取该信息发送到服务器端  
> B. 关闭浏览器意味着会话ID丢失，但所有与原会话关联的会话数据仍保留在服务器上，直至会话过期  
> C. 在禁用Cookie时可以使用URL重写技术跟踪会话  
> D. 隐藏表单域将字段添加到HTML表单并在客户端浏览器中显示  

答案：AC  
解释：  
B. 会话ID存在于Session中，关闭浏览器，Session仍然保持，直至会话过期。但是关闭浏览器并不意味着会话ID丢失，因为与Session建立联系的是cookie，默认的cookie是在浏览器关闭时删除的，但是可以设置expire属性让cookie在浏览器关闭时不删除  
D. 隐藏表单如<input type="hidden" name="xxx" value="xxx">这种表单是隐藏的，用户在浏览器页面卡不到，只能在源码中看到，作用是传输数据

#### 5. TCP的握手与分手，可能出现的情形有（）。
> A. 握手需要3次通信
> B. 分手需要进行4次通信
> C. FIN和ACK 在同一包里
> D. ACK 和SYN 在同一包里

答案：ABCD  
解释：
![](http://uploadfiles.nowcoder.com/images/20151217/408769_1450324909404_B54E448D8BD89C4B4E0090C0E199CC37)
![](http://uploadfiles.nowcoder.com/images/20151217/408769_1450324934939_34C80DB83FD510D8709597B587454325)

针对C答案解释：理论上在接受到fin后，接收方恰好也要关闭连接，则可以在一个包内发送fin和ack（这从tcp包头格式可以看出是正确的，fin和ack不是在同一个bit位上的，所以为什么不能同时发），其次在tcp状态转移图中也可以看到从fin_wait1直接到time_wait的情况，这种情况就就同时接受到fin和ack的结果。

---

#### 6. 浏览器和服务器在基于https进行请求链接到数据传输过程中，用到了如下哪些技术：

> A. 非对称加密技术  
> B. 对称加密技术  
> C. 散列（哈希）算法  
> D. 数字证书  

答案：ABCD  
解释：[http://www.guokr.com/post/114121/](http://www.guokr.com/post/114121/)
